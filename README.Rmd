---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%"
)
```

# pcsurvey

<!-- badges: start -->
[![R-CMD-check](https://github.com/pachaloh/pcsurvey/actions/workflows/R-CMD-check.yaml/badge.svg)](https://github.com/pachaloh/pcsurvey/actions/workflows/R-CMD-check.yaml)
<!-- badges: end -->

The pcsurvey package provide a list of tools to perform some common survey related statistical operations, including sampling clusters within strata with proportional to size, systematic sampling of units within a cluster, deleting empty columns and working on duplicates. 

## Installation

You can install the development version of pcsurvey from [GitHub](https://github.com/) with:

``` r
devtools::install_github("pachaloh/pcsurvey")
```
## How to use

To use the functions contained within, load the pcsurvey package first.
```{r}
library(pcsurvey)
```

### sampling with proportional to size

If interest is to sample units, say clusters, proportional to their sizes, [pc_pps_survey()](https://pachaloh.github.io/pcsurvey/reference/pc_pps_survey.html) is the function. For example, your task would be to sample enumerations areas(EAs) within districts. With this setup, the primary sampling unit becomes the EA, and district becomes your stratum. For the function to work properly, your data frame of primary units must have three columns:

  - stratum, that specifies strata from which the primary units is 
  - cluster, that identifies the primary units and 
  - cluster_pop that contains corresponding sizes of each primary unit (cluster). 

Here is a basic example which demonstrates usage of the package function:

```{r example}
set.seed(1000)
stratum = rep(c(1,2),c(30,50))
cluster <- c(1:30,1:50)
cluster_pop <- sample(365:1309,80,replace=TRUE)
sample_frame <- data.frame(stratum,cluster, cluster_pop)

sample <- pc_pps_survey(sample_frame,10)
sample <- pc_pps_survey(sample_frame,nsize = c(10,7))
```

### Systematic sampling

If, however, interest is to sample units using systematic technique, [pc_sample_hh_survey()](https://pachaloh.github.io/pcsurvey/reference/pc_sample_hh_survey.html) comes in handy. This is more applicable when sampling households within different clusters. The data frame must contain an "ea_code" column that identifies an EA/cluster the units belong to. The same number of units is sampled from each ea_code. By default, it samples 20 cases.

```{r}
set.seed(1000)
ea_code = rep(c(1,2),c(30,50))
hhno <- c(1:30,1:50)
sample_frame <- data.frame(ea_code,hhno)

sample <- pc_sample_hh_survey(sample_frame,10)
```

## Future updates


