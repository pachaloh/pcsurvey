---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%"
)
```

# pcsurvey

<!-- badges: start -->
[![R-CMD-check](https://github.com/pachaloh/pcsurvey/actions/workflows/R-CMD-check.yaml/badge.svg)](https://github.com/pachaloh/pcsurvey/actions/workflows/R-CMD-check.yaml)
<!-- badges: end -->

The pcsurvey package provide a list of tools to seamlessly perform survey operations, including sampling. pc_pps_survey(), for example, sample clusters with proportion to their size of stratum (pc_pps_survey), and sample same number of cases from ea_code (pc_sample_hh_survey).

## Installation

You can install the development version of pcsurvey from [GitHub](https://github.com/) with:

``` r
devtools::install_github("pachaloh/pcsurvey")
```
## How to use

To use the functions contained within, load the pcsurvey package first.
```{r}
library(pcsurvey)
```

If interest is to sample clusters in a stratum proportional to their sizes, use [pc_pps_survey()](https://pachaloh.github.io/pcsurvey/reference/pc_pps_survey.html) function. For example, your task would be to sample enumerations areas(EAs) from traditional authority (TA); or to sample to TAs from a district; or EAs from a district. With this setup, you must define the upper level as stratum, and the lower level as clusters. 

Folowing from this, your data frame must have three columns named stratum, cluster and cluster_pop. cluster_pop must contain corresponding sizes of each cluster. 

## Example

Here are basic examples which demonstrates usage of the package:

```{r example}
set.seed(1000)
stratum = rep(c(1,2),c(30,50))
cluster <- c(1:30,1:50)
cluster_pop <- sample(365:1309,80,replace=TRUE)
sample_frame <- data.frame(stratum,cluster, cluster_pop)

sample <- pc_pps_survey(sample_frame,10)
sample <- pc_pps_survey(sample_frame,nsize = c(10,7))
```

If, however, interest is to sample same number of cases in and area, use pc_sample_hh_survey() function. This is more applicable when sampling households within an enumeration area. The area to sample from, must be named "ea_code". The function samples the same number of cases from each ea_code. By default, it samples 20 cases.

```{r}
set.seed(1000)
ea_code = rep(c(1,2),c(30,50))
hhno <- c(1:30,1:50)
sample_frame <- data.frame(ea_code,hhno)

sample <- pc_sample_hh_survey(sample_frame,10)
```




